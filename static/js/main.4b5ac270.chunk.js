(this["webpackJsonperzhena-tsyrendashieva-project-five"]=this["webpackJsonperzhena-tsyrendashieva-project-five"]||[]).push([[0],{136:function(e,t,a){},140:function(e,t,a){"use strict";a.r(t);var n=a(4),o=a(7),l=a.n(o),s=a(30),i=a.n(s),c=(a(68),a(21)),r=a(22),d=a(16),u=a(27),h=a(26),j=a(49);a(69);j.a.initializeApp({apiKey:"AIzaSyA5rvQYwW9E00UGAAj8f0IxOQdkHbKgdFA",authDomain:"goal-tracker-app-53782.firebaseapp.com",databaseURL:"https://goal-tracker-app-53782.firebaseio.com",projectId:"goal-tracker-app-53782",storageBucket:"goal-tracker-app-53782.appspot.com",messagingSenderId:"747924635501",appId:"1:747924635501:web:4e5f0c23821f043ace2464"});var p=j.a,b=a(52),g=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).removeGoal=function(t){p.database().ref("users/"+e.props.userId).child(t).remove()},e.updateGoal=function(t){e.props.updateGoal(t)},e.achieveGoal=function(t){e.setState({achieved:!0}),document.getElementById(t+"oneGoal").style.background="#FE0000FF"},e.handleShow=function(e,t){e.stopPropagation();var a=document.getElementById(t+"goalName"),n=document.getElementById(t+"fullGoalInfo");"none"===a.style.display?(a.style.display="block",n.style.display="none"):(a.style.display="none",n.style.display="block")},e.state={goals:[],active:[],dbRef:null,achieved:!1},console.log(e.state.active,"ttt"),e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this;console.log("tripp",this.props.userId);var t=p.database().ref("users/"+this.props.userId);this.setState({dbRef:t}),t.on("value",(function(t){var a=t.val();if(a){var n=Object.keys(a).map((function(e){return Object(b.a)(Object(b.a)({},a[e]),{},{id:e})}));e.setState({goals:n})}else e.setState({goals:[]})}))}},{key:"render",value:function(){var e=this;return Object(n.jsxs)("div",{className:"goalContainer",children:[Object(n.jsx)("h1",{children:"My goal list"}),Object(n.jsx)("div",{className:"moreGoalInfoButton clearfix",children:Object(n.jsx)("ul",{children:this.state.goals.map((function(t,a){return Object(n.jsxs)("li",{onClick:function(a){return e.handleShow(a,t.id)},id:t.id+"oneGoal",className:"oneGoal",children:[Object(n.jsxs)("div",{id:t.id+"goalName",className:"goalName",children:[Object(n.jsx)("li",{children:Object(n.jsx)("h4",{children:t.goalName})}),Object(n.jsx)("li",{children:Object(n.jsx)("p",{children:"Read more"})})]}),Object(n.jsxs)("div",{id:t.id+"fullGoalInfo",className:"fullGoalInfo hide",children:[Object(n.jsx)("li",{children:Object(n.jsx)("span",{children:"Goal Name:"})}),Object(n.jsx)("li",{children:Object(n.jsx)("p",{children:t.goalName})}),Object(n.jsx)("li",{children:Object(n.jsx)("span",{children:"Deadline:"})}),Object(n.jsx)("li",{children:Object(n.jsx)("p",{children:t.goalDeadline})}),Object(n.jsx)("li",{children:Object(n.jsx)("span",{children:"Note:"})}),Object(n.jsx)("li",{children:Object(n.jsx)("p",{children:t.goalNote})}),Object(n.jsx)("button",{onClick:function(){e.updateGoal(t)},children:"Edit"}),Object(n.jsx)("button",{onClick:function(){e.removeGoal(t.id)},children:"Delete"}),Object(n.jsx)("button",{onClick:function(){e.achieveGoal(t.id)},children:"Done"})]})]},t.id)}))})})]})}}]),a}(o.Component),m=a(60),O=a.n(m),f=(a(73),"UPDATE"),x=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).addNewGoal=function(t){t.preventDefault();var a=e.state.goalDeadline.getDate()+"/"+parseInt(e.state.goalDeadline.getMonth()+1)+"/"+e.state.goalDeadline.getFullYear(),n=p.database().ref("users/"+e.props.userId),o={goalName:e.state.goalName,goalDeadline:a,goalNote:e.state.goalNote};n.push(o),e.props.displayGoals()},e.formSubmitNewGoal=function(t){e.setState({userNewGoal:t.target.value})},e.editCurrentGoal=function(t){var a=e.state.goalDeadline.getDate()+"/"+parseInt(e.state.goalDeadline.getMonth()+1)+"/"+e.state.goalDeadline.getFullYear();p.database().ref("users/"+e.props.userId).child(t).update({goalName:e.state.goalName,goalDeadline:a,goalNote:e.state.goalNote})},e.state={goalView:"ADD",goalId:"",goalName:"",goalDeadline:new Date,goalNote:""},e.formSubmitNewGoal=e.formSubmitNewGoal.bind(Object(d.a)(e)),e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){if(0!==Object.keys(this.props.currentGoal).length&&this.props.currentGoal.constructor===Object){var e=this.props.currentGoal.goalDeadline.split("/"),t=this.props.currentGoal.id,a=this.props.currentGoal.goalName,n=new Date(+e[2],e[1]-1,+e[0]),o=this.props.currentGoal.goalNote;this.setState({goalView:f,goalId:t,goalName:a,goalDeadline:n,goalNote:o})}}},{key:"setGoalDeadline",value:function(e){this.setState({goalDeadline:e})}},{key:"render",value:function(){var e=this;return Object(n.jsx)("div",{className:"addGoalsGontainer",children:Object(n.jsxs)("form",{onChange:this.formSubmitNewGoal,children:[Object(n.jsx)("label",{className:"newGoal",htmlFor:"newGoalName",children:"What is your goal?"}),Object(n.jsx)("input",{className:"inputNewGoal",type:"text",id:"newGoalName",value:this.state.goalName,onChange:function(t){return e.setState({goalName:t.target.value})}}),Object(n.jsx)("label",{htmlFor:"goalDeadline",children:"Pick a deadline"}),Object(n.jsx)(O.a,{className:"datePicker",selected:this.state.goalDeadline,minDate:new Date,value:this.state.goalDeadline,onChange:function(t){return e.setGoalDeadline(t)}}),Object(n.jsx)("label",{class:"newGoalNote",htmlFor:"goalNote",children:"Note"}),Object(n.jsx)("textarea",{class:"textNewGoalNote",value:this.state.goalNote,onChange:function(t){return e.setState({goalNote:t.target.value})}}),"ADD"===this.state.goalView&&Object(n.jsx)("button",{onClick:this.addNewGoal,children:"Add new goal"}),this.state.goalView===f&&Object(n.jsx)("button",{onClick:function(){e.editCurrentGoal(e.state.goalId)},children:"Update goal"})]})})}}]),a}(o.Component);a(136);a(137);var v="GOAL",N="ADDGOAL",G=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).state={currentComponent:v,currentGoal:{},userId:""},e.updateGoal=e.updateGoal.bind(Object(d.a)(e)),e.showComponent=e.showComponent.bind(Object(d.a)(e)),p.auth().signInAnonymously(),p.auth().onAuthStateChanged((function(t){if(t){var a=t.uid;e.setState({userId:a})}})),e}return Object(r.a)(a,[{key:"showComponent",value:function(e){document.getElementById("toggle-menu").checked=!1,this.setState({currentComponent:e})}},{key:"updateGoal",value:function(e){this.setState({currentGoal:e}),this.showComponent(N)}},{key:"render",value:function(){var e=this;return Object(n.jsx)("div",{className:"App",children:Object(n.jsxs)("div",{className:"appMain appWrapper",children:[Object(n.jsxs)("div",{className:"sideSection",children:[Object(n.jsx)("input",{type:"checkbox",id:"toggle-menu",className:"toggle-menu"}),Object(n.jsx)("div",{className:"hamburger"}),Object(n.jsxs)("ul",{className:"menu",children:[Object(n.jsx)("li",{className:"userBox",children:Object(n.jsx)("div",{className:"goalQuote",children:Object(n.jsx)("p",{children:"Dreams don't work unless you do."})})}),Object(n.jsx)("li",{className:"goalBox",children:Object(n.jsx)("button",{onClick:function(){return e.showComponent(v)},children:Object(n.jsx)("span",{children:"My goal list"})})}),Object(n.jsx)("li",{className:"addGoalBox",children:Object(n.jsx)("button",{id:"addGoalButton",onClick:function(){return e.showComponent(N)},children:Object(n.jsx)("span",{children:"Add new goal"})})}),Object(n.jsx)("li",{className:"logoutBox"})]})]}),Object(n.jsxs)("div",{className:"mainSection",children:[this.state.currentComponent===v&&this.state.userId&&Object(n.jsx)(g,{userId:this.state.userId,updateGoal:function(t){return e.updateGoal(t)},displayGoals:function(){return e.showComponent(v)}}),this.state.currentComponent===N&&Object(n.jsx)(x,{userId:this.state.userId,currentGoal:this.state.currentGoal,displayGoals:function(){return e.showComponent(v)}})]})]})})}}]),a}(o.Component),y=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,144)).then((function(t){var a=t.getCLS,n=t.getFID,o=t.getFCP,l=t.getLCP,s=t.getTTFB;a(e),n(e),o(e),l(e),s(e)}))};i.a.render(Object(n.jsx)(l.a.StrictMode,{children:Object(n.jsx)(G,{})}),document.getElementById("root")),y()},68:function(e,t,a){}},[[140,1,2]]]);
//# sourceMappingURL=main.4b5ac270.chunk.js.map